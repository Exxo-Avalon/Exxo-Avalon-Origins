--- src/Terraria/Terraria/Recipe.cs
+++ src/Avalon/Terraria/Recipe.cs
@@ -13332,7 +_,7 @@
 		}
 
 		public static void UpdateWhichItemsAreMaterials() {
-			for (int i = 0; i < 5088; i++) {
+			for (int i = 0; i < Main.maxItemTypes; i++) {
 				Item item = new Item();
 				item.SetDefaults(i, noMatCheck: true);
 				item.checkMat();
